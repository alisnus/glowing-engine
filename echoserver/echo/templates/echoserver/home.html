<!DOCTYPE html>
<html lang="ru">
<head>
    {% load static %} <!-- –ü–æ–¥–≥—Ä—É–∂–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã -->
    <link rel="stylesheet" type="text/css" href="{% static 'echo/styles.css' %}"> <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —ç—Ç–æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- –ì–æ–¥–∏—Ç—Å—è –¥–ª—è –º–æ–±–∏–ª—ã -->
    <title>Bookstore | –ì–ª–∞–º—É—Ä–Ω—ã–µ –∫–Ω–∏–≥–∏</title> <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
</head>
<body>
    <div class="container">
        <h1>üìö –ì–ª–∞–º—É—Ä–Ω—ã–π –ö–Ω–∏–∂–Ω—ã–π –ú–∞–≥–∞–∑–∏–Ω üìö</h1>
        {% if user.is_authenticated %}
            <p>–ü—Ä–∏–≤–µ—Ç, {{ user.username }}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω–æ!</p>
            <a href="{% url 'logout' %}">–í—ã–π—Ç–∏</a>
        {% else %}
            <p>–£ –≤–∞—Å –µ—â–µ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</p>
            <a href="{% url 'login' %}">–í–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏
            <a href="{% url 'register' %}">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a>, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º!
        {% endif %}

        {% for book in books %} <!-- –ò—â–µ–º –∫–Ω–∏–∂–µ—á–∫–∏ –∏–∑ –≤—å—é–∑.–ø–∞–π -->
            <div class="book-container">
                <p>{{ book.title }} - <i>{{ book.author }}</i> ({{ book.price }} —Ä—É–±)</p><!-- –í—ã–≤–æ–∂—É –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä–∞ –∏ $ -->
                {% if user.is_authenticated and user.role == 'admin' %}<!-- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ -->
                <div class="buttons">
                    <a href="{% url 'edit_book' book.id %}" class="fancy-button">‚ú® –ò–∑–º–µ–Ω–∏—Ç—å ‚ú®</a><!-- –î–∂–∞–Ω–≥–æ –±—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç –∞–π–¥–∏ –∫–Ω–∏–≥–∏ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —ç—Ç–æ–π –∫–Ω–∏–≥–æ–π -->
                    <a href="{% url 'delete_book' book.id %}" class="fancy-button">üóë –£–¥–∞–ª–∏—Ç—å üóë</a>
                </div>
                {% endif %}
            </div>
        {% endfor %}

        {% if user.is_authenticated%}
        <a href="{% url 'add_book' %}" class="add-button">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É ‚ûï</a><!-- –ò–¥—ë–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—á–∫—É —ç–¥ –±—É–∫–∞ -->
        {% endif %}
    </div>
    <div class="pagination"><!-- –ó–Ω–∞—á–∏—Ü–∞, –≤–Ω–µ–¥—Ä–∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é -->
    {% if books.has_previous %}<!-- –ß–µ–∫–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—á–∫—É -->
        <a href="?page=1" class="page-button">‚èÆ –ü–µ—Ä–≤–∞—è</a><!-- –ï—Å–ª–∏ –¥–∞, —Ç–æ —Å–æ–∑–¥–∞—ë–º –¥–≤–µ –∫–Ω–æ–ø–∫–∏ -->
        <a href="?page={{ books.previous_page_number }}" class="page-button">‚¨Ö –ù–∞–∑–∞–¥</a>
    {% endif %}
    <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–æ–º–µ—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—á–∫–∏ –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü -->
    <span class="current-page">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ books.number }} –∏–∑ {{ books.paginator.num_pages }}</span>

    {% if books.has_next %}<!-- –ß–µ–∫–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—á–∫—É -->
        <a href="?page={{ books.next_page_number }}" class="page-button">–í–ø–µ—Ä—ë–¥ ‚û°</a><!-- –ü—Ä–∏—Å–æ–±–∞—á–∏–≤–∞–µ–º –µ—â—ë –¥–≤–µ –∫–Ω–æ–ø–∫–∏ –Ω–∞—Ñ–∏–∫ —Ç–æ -->
        <a href="?page={{ books.paginator.num_pages }}" class="page-button">–ü–æ—Å–ª–µ–¥–Ω—è—è ‚è≠</a>
    {% endif %}
    </div>
</body>
</html>
<!-- –ü—É—Ç—å —Å–∞–º—É—Ä–∞—è:-->
<!--—á–µ–ª–∏–∫ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Ç—É—Ç –Ω–∞ add(–¥–æ–ø—É—Å—Ç–∏–º)-->
<!--–ø–æ—Ç–æ–º –≤ —é—Ä–ª—Å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—á–∫—É-->
<!--–∏–¥—ë–º –≤–æ –≤—å—é–∑ –∏ –æ–Ω —Ä–µ—à–∞–µ—Ç —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –∑–∞–ø—Ä–æ—Å–æ–º-->
<!--(—Ç–∞–º –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ–º booksform, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–æ–º —Å–æ–∑–¥–∞—ë—Ç —Ö—Ç–º–ª-—Ñ–æ—Ä–º—É)-->
<!-- –∏–∑ booksform –∏–¥—ë–º –≤ models, –≥–¥–µ –∏ —Å–≤—è–∑—ã–≤–∞–µ–º—Å—è —Å –±–¥-->
<!--–∏–¥—ë–º –≤ —ç–¥_–±—É–∫ —Ö—Ç–º–ª —Å –ø—É—Å—Ç–æ–π —Ñ–æ—Ä–º–æ–π, –∂–º—ë–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å>